{"version":3,"sources":["components/User.js","components/Comment.js","components/CommentList.js","components/Post.js","components/PostList.js","api/api.js","App.js","index.js"],"names":["User","_ref","user","react_default","a","createElement","Fragment","name","Comment","comment","email","body","CommentList","comments","map","components_Comment","key","id","Post","post","title","components_User","components_CommentList","PostList","posts","className","components_Post","getPosts","fetch","then","response","json","getUsers","getComments","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadData","setState","isLoading","error","Promise","all","_ref2","slicedToArray","postList","userList","commentList","preparedPosts","_objectSpread","find","userId","filter","postId","catch","finally","filterCanged","e","target","value","filterbutton","chosenFilter","prevState","_ref3","includes","_ref4","state","input","_this2","_this$state","type","onClick","length","color","placeholder","onChange","components_PostList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3ad82868.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user }) => (\n  <>\n    <td>\n      {user.name}\n    </td>\n  </>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ comment }) => (\n  <tr>\n    <td>\n      <p>\n        Author:\n        {comment.name}\n      </p>\n      <p>\n        Email:\n        {comment.email}\n      </p>\n      {/* <p>\n        Address:\n        {comment.address.street}\n        ,\n        {comment.address.city}\n        ,\n        {comment.address.suite}\n      </p> */}\n    </td>\n    <td>{comment.body}</td>\n  </tr>\n);\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    name: PropTypes.string,\n    body: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <table>\n    {comments.map(comment => (\n      <Comment comment={comment} key={comment.id} />\n    ))\n    }\n  </table>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ post }) => (\n  <tr>\n    <td>{post.title}</td>\n    <td>{post.body}</td>\n    <User user={post.user} />\n    <CommentList comments={post.comments} />\n  </tr>\n);\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    title: PropTypes.string,\n    id: PropTypes.number,\n    user: PropTypes.object,\n  }).isRequired,\n};\n\nexport default Post;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Post from './Post';\n\nconst PostList = ({ posts }) => (\n  <table className=\"ui red table\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>The text of the post</th>\n        <th>Authors name</th>\n        <th>post comments</th>\n      </tr>\n    </thead>\n    <tbody>\n      {posts.map(post => (\n        <Post post={post} key={post.id} />\n      ))}\n    </tbody>\n  </table>\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PostList;\n","const postsURL = 'https://jsonplaceholder.typicode.com/posts';\nconst usersURL = 'https://jsonplaceholder.typicode.com/users';\nconst commentsURL = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const getPosts = () => fetch(postsURL)\n  .then(response => response.json());\n\nexport const getUsers = () => fetch(usersURL)\n  .then(response => response.json());\n\nexport const getComments = () => fetch(commentsURL)\n  .then(response => response.json());\n","import React from 'react';\n\nimport './App.css';\n\nimport PostList from './components/PostList';\nimport { getPosts, getUsers, getComments } from './api/api';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      error: false,\n      preparedPosts: [],\n      input: '',\n      filter: '',\n    };\n  }\n\n  loadData = () => {\n    this.setState({\n      isLoading: true,\n      error: false,\n    });\n\n    Promise.all([getPosts(), getUsers(), getComments()])\n      .then(([postList, userList, commentList]) => {\n        this.setState({\n          preparedPosts: postList.map(post => ({\n            ...post,\n            user: userList.find(user => post.userId === user.id),\n            comments: commentList.filter(comment => comment.postId === post.id),\n          })),\n        });\n      })\n      .catch(() => {\n        this.setState({\n          error: true,\n          isLoading: false,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  filterCanged = (e) => {\n    this.setState({ filter: e.target.value });\n  }\n\n  filterbutton = (chosenFilter) => {\n    switch (chosenFilter) {\n      case 'Post Text':\n        this.setState(prevState => ({\n          ...prevState,\n          preparedPosts:\n          prevState.preparedPosts.filter(\n            ({ body }) => body.includes(prevState.filter)\n          ),\n        }));\n        break;\n      case 'Post Title':\n        this.setState(prevState => ({\n          ...prevState,\n          preparedPosts: prevState.preparedPosts.filter(\n            ({ title }) => title.includes(prevState.filter)\n          ),\n        }));\n        break;\n      default:\n        this.setState(prevState => ({\n          ...prevState,\n          preparedPosts: prevState.preparedPosts,\n        }));\n        break;\n    }\n  }\n\n  render() {\n    const {\n      isLoading, error, preparedPosts,\n    } = this.state;\n\n    if (isLoading) {\n      return <p>loading...</p>;\n    }\n\n    if (error) {\n      return (\n        <>\n          <p>Error occurred!!!</p>\n          <button\n            type=\"button\"\n            onClick={this.loadData}\n          >\n            Try Again!\n          </button>\n        </>\n      );\n    }\n\n    if (preparedPosts.length === 0) {\n      return (\n        <>\n          <p>No posts yet!</p>\n          <button type=\"button\" onClick={this.loadData} color=\"green\">\n            Load\n          </button>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of posts</h1>\n        <input\n          type=\"text\"\n          placeholder=\"What are you searching?\"\n          onChange={this.filterCanged}\n          value={this.state.filter}\n        />\n        <button type=\"button\" onClick={() => this.filterbutton('Post Text')}>\n          Post Text\n        </button>\n        <button type=\"button\" onClick={() => this.filterbutton('Post Title')}>\n          Post Title\n        </button>\n        <PostList posts={preparedPosts} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}